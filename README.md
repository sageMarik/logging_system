Хорошо, давайте создадим подробный README.md в Markdown, но без включения Makefile внутри него.

# Библиотека и приложение для логирования

## Описание

Этот проект состоит из двух частей:

1.  **Динамическая библиотека `logger`**: Предназначена для записи текстовых сообщений в журнал с различными уровнями важности.
2.  **Консольное многопоточное приложение `app`**: Использует библиотеку `logger` для записи сообщений, введенных пользователем, в журнал.

## Возможности

### Библиотека `logger`

*   **Динамическая:** Скомпилирована как динамическая библиотека (`.so` файл), что позволяет использовать её в различных проектах.
*   **Конфигурируемая:** Принимает имя файла журнала и уровень важности по умолчанию при инициализации, позволяя гибко настраивать поведение логирования.
*   **Уровни важности:** Поддерживает три уровня важности сообщений: `DEBUG` (для отладочной информации), `INFO` (для информационных сообщений) и `ERROR` (для сообщений об ошибках).
*   **Потокобезопасная:** Использует мьютекс (`std::mutex`) для синхронизации доступа к файлу журнала из разных потоков, предотвращая повреждение данных.
*   **Логирование:** Записывает в журнал текущее время, уровень важности и текст сообщения, предоставляя полную картину событий.
*   **Изменение уровня:** Позволяет изменять уровень важности по умолчанию после инициализации, позволяя динамически настраивать объем регистрируемых сообщений.

### Приложение `app`

*   **Консольное:** Приложение взаимодействует с пользователем через консоль, предлагая простой и понятный интерфейс.
*   **Многопоточное:** Использует отдельный поток для записи каждого сообщения в журнал, не блокируя основной поток ввода и обеспечивая отзывчивость приложения.
*   **Интерактивное:** Запрашивает у пользователя сообщение и уровень важности, предоставляя интерактивный опыт взаимодействия.
*   **Гибкое:** Позволяет пользователю не указывать уровень важности сообщения, в таком случае используется уровень по умолчанию, заданный при запуске приложения.
*   **Настраиваемое:** Принимает имя файла журнала и уровень важности по умолчанию как аргументы командной строки, предоставляя гибкость при запуске.
*   **Обработка ошибок:** Приложение обрабатывает ошибки связанные с открытием файла журнала, информируя пользователя о проблемах.

## Сборка и запуск

### Требования

*   Компилятор GCC с поддержкой C++17
*   Операционная система Linux (Ubuntu/Debian)
*   Утилита `make` для сборки проекта

### Сборка

1.  Убедитесь, что у вас есть все необходимые файлы (исходный код, `Makefile`).
2.  Откройте терминал и перейдите в корневой каталог проекта (`logger`).
3.  Выполните команду `make`. Эта команда скомпилирует динамическую библиотеку и консольное приложение, разместив их в соответствующих папках (`lib` и `app`).

### Запуск

1.  После успешной сборки, запустите приложение из каталога `app` с помощью следующей команды:

    ```bash
    ./app <log_file> <default_log_level>
    ```

    *   `<log_file>`: Путь и имя файла журнала, куда будут записываться сообщения (например, `mylog.txt`).
    *   `<default_log_level>`: Уровень важности сообщений по умолчанию (`DEBUG`, `INFO`, `ERROR`).

    Пример:

    ```bash
    ./app mylog.txt INFO
    ```

2.  Приложение будет запрашивать у вас ввод сообщений и уровней важности.
3.  Введите сообщение и уровень (или оставьте уровень пустым для использования уровня по умолчанию).
4.  Для завершения работы введите `exit`.

### Очистка

Для удаления временных файлов сборки, выполните команду `make clean` в корневом каталоге проекта (`logger`).

## Структура проекта
content_copy
download
Use code with caution.
Markdown

logger/
├── include/ # Заголовочные файлы
│ └── logger.h
├── src/ # Исходный код библиотеки
│ └── logger.cpp
├── app/ # Исходный код приложения
│ └── main.cpp
├── Makefile # Файл для сборки
└── README.md # Этот файл

## Замечания

*   Ввод от пользователя обрабатывается в основном потоке приложения.
*   Запись в файл выполняется в отдельном потоке, что обеспечивает неблокирующий ввод.
*   Используется мьютекс для обеспечения потокобезопасного доступа к файлу журнала.
*   В случае ошибок при открытии файла журнала, выводится сообщение в поток ошибок (`cerr`).